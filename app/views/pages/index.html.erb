<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-md-6">
      
      <!-- Classic Dark Card -->
      <div class="card bg-dark border border-secondary border-opacity-10 shadow-lg rounded-3">
        
        <!-- Header -->
        <div class="card-header bg-dark border-bottom border-secondary border-opacity-25 py-4 text-center">
          <div class="d-inline-block p-3 bg-primary bg-opacity-10 rounded-circle mb-3">
            <span class="fs-3 text-primary">üì±</span>
          </div>
          <h3 class="mb-0 text-white fw-semibold">SMS Dashboard</h3>
          <p class="text-secondary small mt-2 mb-0">Secure Messaging Gateway</p>
        </div>
        
        <div class="card-body p-4 p-lg-5">
          
          <!-- Flash Messages -->
          <% if flash[:notice].present? %>
            <div class="alert alert-primary d-flex align-items-center border-0 bg-primary bg-opacity-10 text-primary mb-4" role="alert">
              <span class="me-2">‚úîÔ∏è</span>
              <div><%= flash[:notice] %></div>
              <button type="button" class="btn-close btn-close-primary ms-auto" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
          <% end %>

          <% if flash[:alert].present? %>
            <div class="alert alert-danger d-flex align-items-center border-0 bg-danger bg-opacity-10 text-danger mb-4" role="alert">
              <span class="me-2">üö´</span>
              <div><%= flash[:alert] %></div>
              <button type="button" class="btn-close btn-close-danger ms-auto" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
          <% end %>

          <!-- Form -->
          <%= form_with url: send_sms_path, method: :post, local: true do |f| %>
            
            <div class="mb-4">
              <%= f.label :to, "Recipient Number", class: "form-label text-secondary fw-medium" %>
              <div class="input-group">
                <span class="input-group-text bg-body-secondary border-secondary text-secondary border-end-0">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
                    <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
                  </svg>
                </span>
                <%= f.telephone_field :to, 
                                      placeholder: "+919999999999", 
                                      required: true, 
                                      class: "form-control form-control-lg bg-dark text-white border-secondary border-start-0 shadow-none" %>
              </div>
              <div class="form-text text-secondary mt-2">Include country code.</div>
            </div>

            <div class="mb-4">
              <div class="d-flex justify-content-between align-items-center mb-2">
                <%= f.label :body, "Message Body", class: "form-label text-secondary fw-medium" %>
                <span class="badge bg-body-secondary text-secondary fw-normal border" id="charCount">0 / 160</span>
              </div>
              
              <%= f.text_area :body, 
                              rows: 4, 
                              placeholder: "Type your message here...", 
                              required: true, 
                              class: "form-control bg-dark text-white border-secondary shadow-none",
                              oninput: "document.getElementById('charCount').innerText = this.value.length + ' / 160'" %>
            </div>

            <div class="d-grid mt-5">
              <%= f.submit "Send Message", class: "btn btn-primary btn-lg fw-medium shadow-sm" %>
            </div>

          <% end %>
          
        </div>
        
        <!-- Footer -->
        <div class="card-footer bg-transparent border-top border-secondary border-opacity-10 py-3 d-flex justify-content-between align-items-center">
          <span class="text-secondary small">System Status</span>
          <div class="d-flex align-items-center gap-2">
            <span class="pulse-dot bg-success rounded-circle"></span>
            <span class="text-success small">Operational</span>
          </div>
        </div>
      </div>
      
      <p class="text-center text-secondary mt-4 small">
        Powered by Rails 8 & Twilio
      </p>

    </div>
  </div>
</div>

<style>
  body {
    background: linear-gradient(135deg, #121212 0%, #1e1e1e 100%);
    min-height: 100vh;
  }

  .form-control:focus {
    border-color: #6c757d !important;
    box-shadow: 0 0 0 0.1rem rgba(255, 255, 255, 0.1) !important;
  }

  .input-group .form-control:focus {
    z-index: 1;
  }
  .input-group-text {
    background-color: rgba(255, 255, 255, 0.05) !important;
  }

  .card {
    box-shadow: 0 1rem 3rem rgba(0, 0, 0, 0.5) !important;
  }

  .pulse-dot {
    width: 8px;
    height: 8px;
    animation: pulse 2s infinite;
  }

  @keyframes pulse {
    0% {
      box-shadow: 0 0 0 0 rgba(25, 135, 84, 0.7);
    }
    70% {
      box-shadow: 0 0 0 6px rgba(25, 135, 84, 0);
    }
    100% {
      box-shadow: 0 0 0 0 rgba(25, 135, 84, 0);
    }
  }

  .form-control::placeholder {
    color: #555;
  }
</style>